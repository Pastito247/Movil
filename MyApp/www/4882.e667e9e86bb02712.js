"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4882],{4882:(P,d,n)=>{n.r(d),n.d(d,{RescontraPageModule:()=>b});var u=n(6814),g=n(95),r=n(6728),c=n(9351),e=n(6689),f=n(2112),m=n(6466),h=n(3278);function p(i,Z){if(1&i){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"restaurar contrase\xf1a"),e.qZA()()(),e.TgZ(4,"ion-content",7),e._UZ(5,"ion-input",8)(6,"br")(7,"br")(8,"br"),e.TgZ(9,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.validar())}),e._uU(10,"Enviar Mail"),e.qZA()()}}const v=[{path:"",component:(()=>{class i{constructor(t,o,a,s,l){this.router=t,this.api=o,this.authService=a,this.emailService=s,this.animationCtrl=l,this.posts=[],this.codigoVerificacion=this.generarCodigoAlfanumerico(6),this.isModalOpen=!0}ngOnInit(){}generarCodigoAlfanumerico(t){let a="";for(let s=0;s<t;s++){const l=Math.floor(36*Math.random());a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(l)}return a}enviarCorreo(t){console.log(this.codigoVerificacion),this.emailService.enviarCorreo(t,"Codigo de verificacion","su codigo es: "+this.codigoVerificacion).subscribe(o=>{console.log("Correo enviado con \xe9xito",o),this.setOpen(!1)},o=>{console.error("Error al enviar el correo",o)})}setOpen(t){this.isModalOpen=t}verificarCode(){document.getElementById("code").value==this.codigoVerificacion?(console.log("exito"),this.router.navigate(["/cambiarpass"])):(console.log("error"),this.animation=this.animationCtrl.create().addElement(document.getElementsByName("verificar")).duration(500).iterations(2).keyframes([{offset:0,transform:"translateX(0px)"},{offset:.5,transform:"translateX(10px)"},{offset:1,transform:"translateX(0px)"}]),this.animation.play())}validar(){var t=document.getElementById("correo").value;console.log(t),this.api.getPosts(t).subscribe(o=>{console.log("Verificando: CORRESTO"),this.posts=o.items,this.enviarCorreo(t),this.authService.setDatos(t,o.usuario,o.telefono,o.conductor,o.direccion)},o=>{console.log("Error")})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(c.F0),e.Y36(f.s),e.Y36(m.e),e.Y36(h.j),e.Y36(r.vB))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-rescontra"]],decls:22,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["fill","solid","label","Codigo","labelPlacement","floating","helperText","Ingrese Codigo","errorText","Codigo erroneo","name","verificar","id","code"],[3,"isOpen"],["id","CambiarContra",3,"click"],[1,"ion-padding"],["type","email","fill","solid","label","Email","labelPlacement","floating","helperText","Ingrese Email","errorText","Invalid email","name","Correo","id","correo"],["id","ingresar",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Verificar codigo"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8,"rescontra"),e.qZA()()(),e._UZ(9,"br")(10,"br")(11,"br")(12,"br")(13,"br")(14,"ion-input",4)(15,"br")(16,"br")(17,"br"),e.TgZ(18,"ion-modal",5),e.YNc(19,p,11,0,"ng-template"),e.qZA(),e.TgZ(20,"ion-button",6),e.NdJ("click",function(){return a.verificarCode()}),e._uU(21,"Ingresar"),e.qZA()()),2&o&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(14),e.Q6J("isOpen",a.isModalOpen))},dependencies:[r.YG,r.W2,r.Gu,r.pK,r.wd,r.sr,r.ki,r.j9],styles:["ion-button[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]{--ion-background-color:#000000}ion-header[_ngcontent-%COMP%]{--ion-background-color:#3d3d3d}ion-title[_ngcontent-%COMP%]{color:#fff}"]})}return i})()}];let C=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#o=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(v),c.Bz]})}return i})(),b=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#o=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[u.ez,g.u5,r.Pc,C]})}return i})()}}]);